
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- CSS only -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">
    <title>Document</title>
    <style>
      input[type='file']{
        border: 1px solid rgb(206, 206, 206) ;
        width: 100%;
        border-radius: 0 7px 7px 0;
      }
    </style>

</head>
<body>

  <!-- Check if the user is authenticated -->
  {% if user.is_authenticated %}
    <p class="p-2">Hi {{ user.username }}!</p>
    <a href="{% url 'profile' %}" class="btn btn-primary">My Profile</a>
    <a class="btn btn-danger" href="{% url 'logout' %}">Logout</a>
    
  {% endif %}

  <div style="margin: 10px; padding: 10px; background: red; border-radius: 7px; width: fit-content;" class="not-logged_in">
    <p style="display: inline;">You are not logged in</p>
    <a href="{% url 'login' %}" class="text-light">Log In</a> 
  </div>



    <div class="container">
      <form method="post" enctype="multipart/form-data">
        {% csrf_token %}
        <p>{{ form.image.label }}</p>
        <p class="">{{ form.image }}</p>

    
        <button class="btn btn-primary" type="submit">Upload</button>
      </form>

      <!-- Return a success message if the image was uploaded successfully -->
    {% if img_obj %}
    <h3>Succesfully uploaded</h3>
    <img src="{{ img_obj.image.url }}" alt="User image" style="max-height:300px">

    <form method="post" action=" {% url 'predict' img_obj.id %}">
      {% csrf_token %}
      <button type="submit">Make prediction</button>
    </form>

    {% endif %}

  
    


    </div>

    
    
</body>
</html>

